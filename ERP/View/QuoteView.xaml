<Window x:Class="ERP.View.QuoteView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ERP.View"
        mc:Ignorable="d"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:ControlzEx="clr-namespace:ControlzEx;assembly=MaterialDesignThemes.Wpf"
        xmlns:Converters="clr-namespace:MaterialDesignThemes.Wpf.Converters;assembly=MaterialDesignThemes.Wpf"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Width="1000"
        Height="600"
        Background="{DynamicResource MaterialDesignPaper}"
        DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <Grid>
        <materialDesign:DrawerHost x:Name="MainDrawer">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <materialDesign:ColorZone Grid.Row="0"
                                          Padding="16"
                                          materialDesign:ShadowAssist.ShadowDepth="Depth1"
                                          Mode="PrimaryMid"
                                          Grid.ColumnSpan="2"
                                          Panel.ZIndex="1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center"
                                   FontSize="22"
                                   Text="Quote"
                                   Style="{StaticResource MaterialDesignTitleTextBlock}"
                                   Margin="56,0,0,0" />
                        <materialDesign:PopupBox Grid.Column="3"
                                                 PlacementMode="BottomAndAlignRightEdges"
                                                 StaysOpen="True"
                                                 Margin="10,0">
                            <StackPanel>
                                <Button Content="Convert quote" />
                                <Separator />
                                <Button Content="Delete quote" />
                            </StackPanel>
                        </materialDesign:PopupBox>
                    </Grid>
                </materialDesign:ColorZone>
                <ProgressBar Grid.Row="1"
                             IsIndeterminate="True"
                             Visibility="Collapsed" />
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="0,6">
                            <materialDesign:ColorZone Width="356"
                                                      Margin="6"
                                                      materialDesign:ShadowAssist.ShadowDepth="Depth1">
                                <Expander HorizontalAlignment="Stretch"
                                          IsExpanded="True"
                                          Padding="0,0,0,12">
                                    <Expander.Header>
                                        <TextBlock Text="Details"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="56" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="56" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="56" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                            <RowDefinition Height="51" />
                                        </Grid.RowDefinitions>
                                        <ContentControl Grid.Row="0"
                                                        Style="{StaticResource MaterialDesignTextBoxIconWrapper}">
                                            <materialDesign:PackIcon Kind="FormatQuoteOpen"
                                                                     Width="24"
                                                                     Height="24" />
                                        </ContentControl>
                                        <TextBox Grid.Row="0"
                                                 Grid.Column="1"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Quote no."
                                                 Text="12000"
                                                 IsEnabled="False" />
                                        <TextBox Grid.Row="0"
                                                 Grid.Column="3"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Date"
                                                 IsEnabled="False"
                                                 Text="19/03/18" />
                                        <ComboBox Style="{StaticResource MaterialDesignFloatingHintComboBoxFull}"
                                                  Grid.Row="1"
                                                  Grid.Column="1"
                                                  Grid.ColumnSpan="3"
                                                  materialDesign:HintAssist.Hint="Company *"
                                                  IsEditable="True">
                                            <ComboBoxItem>Apple</ComboBoxItem>
                                            <ComboBoxItem>Banana</ComboBoxItem>
                                            <ComboBoxItem>Pear</ComboBoxItem>
                                            <ComboBoxItem>Orange</ComboBoxItem>
                                        </ComboBox>
                                        <ComboBox Style="{StaticResource MaterialDesignFloatingHintComboBoxFull}"
                                                  Grid.Row="2"
                                                  Grid.Column="1"
                                                  Grid.ColumnSpan="3"
                                                  materialDesign:HintAssist.Hint="Contact"
                                                  IsEditable="True">
                                            <ComboBoxItem>Apple</ComboBoxItem>
                                            <ComboBoxItem>Banana</ComboBoxItem>
                                            <ComboBoxItem>Pear</ComboBoxItem>
                                            <ComboBoxItem>Orange</ComboBoxItem>
                                        </ComboBox>
                                        <TextBox Grid.Row="3"
                                                 Grid.Column="1"
                                                 Grid.ColumnSpan="3"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="PO no." />
                                        <TextBox Grid.Row="4"
                                                 Grid.Column="1"
                                                 Grid.ColumnSpan="3"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Description" />
                                        <TextBox Grid.Row="5"
                                                 Grid.Column="1"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Lead days" />
                                        <ComboBox Style="{StaticResource MaterialDesignFloatingHintComboBoxFull}"
                                                  Grid.Row="6"
                                                  Grid.Column="1"
                                                  Grid.ColumnSpan="3"
                                                  materialDesign:HintAssist.Hint="Carriage option"
                                                  IsEditable="True">
                                            <ComboBoxItem IsSelected="True">Collection</ComboBoxItem>
                                            <ComboBoxItem>Courier</ComboBoxItem>
                                            <ComboBoxItem>BIE Magnum delivery</ComboBoxItem>
                                        </ComboBox>
                                        <TextBox Grid.Row="7"
                                                 Grid.Column="1"
                                                 Grid.ColumnSpan="3"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Carriage notes" />
                                        <TextBox Grid.Row="8"
                                                 Grid.Column="1"
                                                 Text="12.00"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Carriage cost" />
                                        <TextBox Grid.Row="9"
                                                 Grid.Column="1"
                                                 Text="12.00"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Total cost" />
                                        <DatePicker Grid.Row="10"
                                                    Grid.Column="1"
                                                    Style="{StaticResource MaterialDesignFloatingHintDatePicker}"
                                                    materialDesign:HintAssist.Hint="Due date"
                                                    Margin="0,6,0,4"
                                                    VerticalAlignment="Bottom" />
                                        <TextBox Grid.Row="10"
                                                 Grid.Column="3"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Success chance" />
                                        <TextBox Grid.Row="11"
                                                 Grid.Column="1"
                                                 Grid.ColumnSpan="3"
                                                 Text="Jasper Friend"
                                                 IsEnabled="False"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBoxFull}"
                                                 materialDesign:HintAssist.Hint="Owner" />
                                    </Grid>
                                </Expander>
                            </materialDesign:ColorZone>
                        </StackPanel>
                    </ScrollViewer>
                    <Grid Grid.Column="1">
                        <materialDesign:ColorZone materialDesign:ShadowAssist.ShadowDepth="Depth1"
                                                  Margin="6,12">
                            <Grid x:Name="grid">
                                <Grid.RowDefinitions>
                                    <RowDefinition Name="ItemRow">
                                        <RowDefinition.Style>
                                            <Style TargetType="{x:Type RowDefinition}">
                                                <Setter Property="Height"
                                                        Value="*" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=ItemExpander, Path=IsExpanded}"
                                                                 Value="True">
                                                        <Setter Property="Height"
                                                                Value="*" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </RowDefinition.Style>
                                    </RowDefinition>
                                    <RowDefinition Name="OrderRow">
                                        <RowDefinition.Style>
                                            <Style TargetType="{x:Type RowDefinition}">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=OrderExpander, Path=IsExpanded}"
                                                                 Value="True">
                                                        <Setter Property="Height"
                                                                Value="*" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </RowDefinition.Style>
                                    </RowDefinition>
                                    <RowDefinition Name="DeliveryRow">
                                        <RowDefinition.Style>
                                            <Style TargetType="{x:Type RowDefinition}">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=DeliveryExpander, Path=IsExpanded}"
                                                                 Value="True">
                                                        <Setter Property="Height"
                                                                Value="*" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </RowDefinition.Style>
                                    </RowDefinition>
                                    <RowDefinition Name="InvoiceRow">
                                        <RowDefinition.Style>
                                            <Style TargetType="{x:Type RowDefinition}">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=InvoiceExpander, Path=IsExpanded}"
                                                                 Value="True">
                                                        <Setter Property="Height"
                                                                Value="*" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </RowDefinition.Style>
                                    </RowDefinition>
                                    <RowDefinition Name="NcrRow">
                                        <RowDefinition.Style>
                                            <Style TargetType="{x:Type RowDefinition}">
                                                <Setter Property="Height"
                                                        Value="Auto" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=NcrExpander, Path=IsExpanded}"
                                                                 Value="True">
                                                        <Setter Property="Height"
                                                                Value="*" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </RowDefinition.Style>
                                    </RowDefinition>
                                </Grid.RowDefinitions>
                                <Expander x:Name="ItemExpander"
                                          Grid.Row="0"
                                          IsExpanded="True">
                                    <Expander.Header>
                                        <TextBlock Text="Items"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>

                                    <DataGrid Margin="0,8,0,0"
                                              Padding="0,0,0,60"
                                              ItemsSource="{Binding quoteItemList}"
                                              CanUserSortColumns="True"
                                              AutoGenerateColumns="False"
                                              materialDesign:DataGridAssist.CellPadding="13 8 8 8"
                                              materialDesign:DataGridAssist.ColumnHeaderPadding="8"
                                              MaxHeight="{Binding ElementName=ItemExpander, Path=ActualHeight}">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn materialDesign:DataGridAssist.CellPadding="0">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button x:Name="EditQuoteItem"
                                                                Style="{StaticResource MaterialDesignFlatButton}"
                                                                Padding="0"
                                                                Height="16"
                                                                Width="16"
                                                                Click="EditQuoteItem_Click">
                                                            <materialDesign:PackIcon Kind="Pencil" />
                                                        </Button>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <materialDesign:MaterialDataGridTextColumn Binding="{Binding line}"
                                                                                       Header="Line"
                                                                                       EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnPopupEditingStyle}" />
                                            <materialDesign:MaterialDataGridComboBoxColumn SelectedValueBinding="{Binding itemCode}"
                                                                                           Header="Item code" />
                                            <materialDesign:MaterialDataGridTextColumn Binding="{Binding internalDescription}"
                                                                                       Header="Internal description"
                                                                                       EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnPopupEditingStyle}"
                                                                                       MaxLength="255" />
                                            <materialDesign:MaterialDataGridComboBoxColumn SelectedValueBinding="{Binding nominalCode}"
                                                                                           Header="N/C" />
                                            <materialDesign:MaterialDataGridTextColumn Binding="{Binding quantity}"
                                                                                       Header="Quantity" />
                                            <materialDesign:MaterialDataGridTextColumn Binding="{Binding itemCost}"
                                                                                       Header="Cost" />
                                            <materialDesign:MaterialDataGridTextColumn Binding="{Binding itemTotal}"
                                                                                       Header="Total"
                                                                                       IsReadOnly="True" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Expander>
                                <Expander x:Name="OrderExpander"
                                          Grid.Row="1">
                                    <Expander.Header>
                                        <TextBlock Text="Orders"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>
                                    <StackPanel>

                                    </StackPanel>
                                </Expander>
                                <Expander x:Name="DeliveryExpander"
                                          Grid.Row="2">
                                    <Expander.Header>
                                        <TextBlock Text="Deliveries"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>
                                    <StackPanel>

                                    </StackPanel>
                                </Expander>
                                <Expander x:Name="InvoiceExpander"
                                          Grid.Row="3">
                                    <Expander.Header>
                                        <TextBlock Text="Invoices"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>
                                    <StackPanel>

                                    </StackPanel>
                                </Expander>
                                <Expander x:Name="NcrExpander"
                                          Grid.Row="4">
                                    <Expander.Header>
                                        <TextBlock Text="NCRs"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                    </Expander.Header>
                                    <StackPanel>

                                    </StackPanel>
                                </Expander>
                            </Grid>
                        </materialDesign:ColorZone>
                    </Grid>
                </Grid>
                <materialDesign:Snackbar Grid.Row="2"
                                         MessageQueue="{materialDesign:MessageQueue}"
                                         x:Name="SnackbarThree"
                                         Panel.ZIndex="1"
                                         Margin="0,0,0,4" />
            </Grid>
            <materialDesign:DrawerHost.RightDrawerContent>
                <Grid Width="368">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Frame x:Name="DrawerFrame"
                           NavigationUIVisibility="Hidden" />
                    <materialDesign:ColorZone Grid.Row="2"
                                              materialDesign:ShadowAssist.ShadowDepth="Depth1">
                        <StackPanel Grid.Row="8"
                                    Grid.ColumnSpan="5"
                                    Orientation="Horizontal"
                                    HorizontalAlignment="Right">
                            <Button Grid.Row="1"
                                    Command="{x:Static materialDesign:DrawerHost.CloseDrawerCommand}"
                                    x:Name="doneButton"
                                    Style="{StaticResource MaterialDesignFlatButton}"
                                    Content="DONE"
                                    Margin="8,8,4,8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom" />
                        </StackPanel>
                    </materialDesign:ColorZone>
                </Grid>
            </materialDesign:DrawerHost.RightDrawerContent>
        </materialDesign:DrawerHost>
    </Grid>
</Window>
